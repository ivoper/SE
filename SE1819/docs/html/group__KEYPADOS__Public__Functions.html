<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded Systems Library: Keypados Public Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded Systems Library
   &#160;<span id="projectnumber">Ver1.2</span>
   </div>
   <div id="projectbrief">Documentation for library used in Embedded Systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Keypados Public Functions<div class="ingroups"><a class="el" href="group__KEYPADOS.html">Keypados</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gabe9ee20504907d282191790a7f8bd46c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#gabe9ee20504907d282191790a7f8bd46c">NUMBER_OF_LINES</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:gabe9ee20504907d282191790a7f8bd46c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0240364487a54a70da4ffb51459ada98"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga0240364487a54a70da4ffb51459ada98">NUMBER_OF_COLUMNS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ga0240364487a54a70da4ffb51459ada98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab11e2fa15c93c6c1bacdd6a338225e68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#gab11e2fa15c93c6c1bacdd6a338225e68">KEY_COMBINATION_UNSUPPORTED_CODE</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:gab11e2fa15c93c6c1bacdd6a338225e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17cf43290c2155f961dddf4391667236"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga17cf43290c2155f961dddf4391667236">COMBINATION_CODE</a>&#160;&#160;&#160;127</td></tr>
<tr class="separator:ga17cf43290c2155f961dddf4391667236"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga83c503c0d28a4d3defb66550b09f6a18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga83c503c0d28a4d3defb66550b09f6a18">KEYPADOS_Init</a> (int layout[12], QueueHandle_t <a class="el" href="i2c_8c.html#ab543d7bd8812a2f30f8f11e66563dd25">queue</a>, SemaphoreHandle_t smphr)</td></tr>
<tr class="memdesc:ga83c503c0d28a4d3defb66550b09f6a18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the system to allow access to the peripheral. As such, receives in the parameters the vector with the codes of the 12 keys (layout), and the OS objects that will be used to communicate between tasks.  <a href="#ga83c503c0d28a4d3defb66550b09f6a18">More...</a><br /></td></tr>
<tr class="separator:ga83c503c0d28a4d3defb66550b09f6a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd9117af4ec3a2c2acbcfcd43416809b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#gabd9117af4ec3a2c2acbcfcd43416809b">KEYPADOS_ProcessKey</a> ()</td></tr>
<tr class="memdesc:gabd9117af4ec3a2c2acbcfcd43416809b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for a key press, processes the key pressed and pushes it to the queue. to be used by the keypad task.  <a href="#gabd9117af4ec3a2c2acbcfcd43416809b">More...</a><br /></td></tr>
<tr class="separator:gabd9117af4ec3a2c2acbcfcd43416809b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45d08f042f0080636296841a506feb47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga45d08f042f0080636296841a506feb47">KEYPADOS_PoolKeypad</a> ()</td></tr>
<tr class="memdesc:ga45d08f042f0080636296841a506feb47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pools keypad to determine which key was pressed and returns that key code.  <a href="#ga45d08f042f0080636296841a506feb47">More...</a><br /></td></tr>
<tr class="separator:ga45d08f042f0080636296841a506feb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b29ba0a25fbb1e20c01f9ecde5816d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga1b29ba0a25fbb1e20c01f9ecde5816d5">KEYPADOS_GetKey</a> (TickType_t ticks)</td></tr>
<tr class="memdesc:ga1b29ba0a25fbb1e20c01f9ecde5816d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first key in the queue.  <a href="#ga1b29ba0a25fbb1e20c01f9ecde5816d5">More...</a><br /></td></tr>
<tr class="separator:ga1b29ba0a25fbb1e20c01f9ecde5816d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga17cf43290c2155f961dddf4391667236"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17cf43290c2155f961dddf4391667236">&#9670;&nbsp;</a></span>COMBINATION_CODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMBINATION_CODE&#160;&#160;&#160;127</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8h_source.html#l00043">43</a> of file <a class="el" href="keypados_8h_source.html">keypados.h</a>.</p>

</div>
</div>
<a id="gab11e2fa15c93c6c1bacdd6a338225e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab11e2fa15c93c6c1bacdd6a338225e68">&#9670;&nbsp;</a></span>KEY_COMBINATION_UNSUPPORTED_CODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KEY_COMBINATION_UNSUPPORTED_CODE&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This keypad does NOT support any key combination (keys pressed at the same time) of two keys in DIFFERENT LINES, the key pressed in the uppermost row will PROBABLLY be the one recorded (not guaranteed).</p>
<p>This keypad only supports a single key combination that returns COMBINATION_CODE all other combinations tried in the same line will return KEY_COMBINATION_UNSUPPORTED_CODE </p>

<p class="definition">Definition at line <a class="el" href="keypados_8h_source.html#l00042">42</a> of file <a class="el" href="keypados_8h_source.html">keypados.h</a>.</p>

</div>
</div>
<a id="ga0240364487a54a70da4ffb51459ada98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0240364487a54a70da4ffb51459ada98">&#9670;&nbsp;</a></span>NUMBER_OF_COLUMNS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMBER_OF_COLUMNS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8h_source.html#l00033">33</a> of file <a class="el" href="keypados_8h_source.html">keypados.h</a>.</p>

</div>
</div>
<a id="gabe9ee20504907d282191790a7f8bd46c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe9ee20504907d282191790a7f8bd46c">&#9670;&nbsp;</a></span>NUMBER_OF_LINES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMBER_OF_LINES&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of lines and columns in the keypad </p>

<p class="definition">Definition at line <a class="el" href="keypados_8h_source.html#l00032">32</a> of file <a class="el" href="keypados_8h_source.html">keypados.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1b29ba0a25fbb1e20c01f9ecde5816d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b29ba0a25fbb1e20c01f9ecde5816d5">&#9670;&nbsp;</a></span>KEYPADOS_GetKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KEYPADOS_GetKey </td>
          <td>(</td>
          <td class="paramtype">TickType_t&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the first key in the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ticks</td><td>number of ticks to wait for a key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00096">96</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

</div>
</div>
<a id="ga83c503c0d28a4d3defb66550b09f6a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83c503c0d28a4d3defb66550b09f6a18">&#9670;&nbsp;</a></span>KEYPADOS_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KEYPADOS_Init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>layout</em>[12], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QueueHandle_t&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SemaphoreHandle_t&#160;</td>
          <td class="paramname"><em>smphr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the system to allow access to the peripheral. As such, receives in the parameters the vector with the codes of the 12 keys (layout), and the OS objects that will be used to communicate between tasks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">layout</td><td>array with the keys' codes </td></tr>
    <tr><td class="paramname">queue</td><td>queue object that holds the keys pressed so different tasks can fetch </td></tr>
    <tr><td class="paramname">smphr</td><td>semaphore object that wakes thread that will process keys when a key is pressed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void </dd></dl>

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00047">47</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">References <a class="el" href="keypados_8c_source.html#l00013">BITS_TO_PINMODE</a>, <a class="el" href="keypados_8c_source.html#l00015">INPUT_MASK</a>, <a class="el" href="keypados_8c_source.html#l00023">Layout</a>, <a class="el" href="keypados_8c_source.html#l00020">LAYOUT_SIZE</a>, <a class="el" href="keypados_8c_source.html#l00016">OUTPUT_MASK</a>, <a class="el" href="i2c_8c_source.html#l00038">queue</a>, and <a class="el" href="keypados_8c_source.html#l00024">Semaphore</a>.</p>

</div>
</div>
<a id="ga45d08f042f0080636296841a506feb47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45d08f042f0080636296841a506feb47">&#9670;&nbsp;</a></span>KEYPADOS_PoolKeypad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int KEYPADOS_PoolKeypad </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pools keypad to determine which key was pressed and returns that key code. </p>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00070">70</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">References <a class="el" href="keypad_8h_source.html#l00037">COMBINATION_CODE</a>, <a class="el" href="keypados_8c_source.html#l00015">INPUT_MASK</a>, <a class="el" href="keypad_8h_source.html#l00036">KEY_COMBINATION_UNSUPPORTED_CODE</a>, <a class="el" href="keypados_8c_source.html#l00023">Layout</a>, <a class="el" href="keypad_8h_source.html#l00027">NUMBER_OF_COLUMNS</a>, <a class="el" href="keypad_8h_source.html#l00026">NUMBER_OF_LINES</a>, <a class="el" href="keypados_8c_source.html#l00016">OUTPUT_MASK</a>, <a class="el" href="keypados_8c_source.html#l00018">SHIFT_TO_INPUT</a>, <a class="el" href="keypados_8c_source.html#l00017">SHIFT_TO_OUTPUT</a>, <a class="el" href="keypados_8c_source.html#l00021">VAL_TO_XOR</a>, and <a class="el" href="waitos_8c_source.html#l00013">WAITOS_Ms()</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00061">KEYPADOS_ProcessKey()</a>.</p>

</div>
</div>
<a id="gabd9117af4ec3a2c2acbcfcd43416809b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd9117af4ec3a2c2acbcfcd43416809b">&#9670;&nbsp;</a></span>KEYPADOS_ProcessKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void KEYPADOS_ProcessKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits for a key press, processes the key pressed and pushes it to the queue. to be used by the keypad task. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00061">61</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">References <a class="el" href="keypados_8c_source.html#l00070">KEYPADOS_PoolKeypad()</a>, and <a class="el" href="keypados_8c_source.html#l00024">Semaphore</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 22 2019 21:03:35 for Embedded Systems Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
