<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded Systems Library: C:/SE/SE1819/src/keypados.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded Systems Library
   &#160;<span id="projectnumber">Ver1.2</span>
   </div>
   <div id="projectbrief">Documentation for library used in Embedded Systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">keypados.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="keypados_8h_source.html">keypados.h</a>&quot;</code><br />
<code>#include &quot;LPC17xx.h&quot;</code><br />
<code>#include &quot;<a class="el" href="waitos_8h_source.html">waitos.h</a>&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div>
<p><a href="keypados_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad3ac4a6d8bb4ac00f51485eb82987780"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#ad3ac4a6d8bb4ac00f51485eb82987780">BITS_TO_PINMODE</a>&#160;&#160;&#160;(0x3f &lt;&lt; 14)</td></tr>
<tr class="separator:ad3ac4a6d8bb4ac00f51485eb82987780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca35baec219740c56a70b5d416db033"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#a3ca35baec219740c56a70b5d416db033">INPUT_MASK</a>&#160;&#160;&#160;(0x7 &lt;&lt; 23)</td></tr>
<tr class="separator:a3ca35baec219740c56a70b5d416db033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad53b8687ff9b35c617792c08e954abe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#aad53b8687ff9b35c617792c08e954abe">OUTPUT_MASK</a>&#160;&#160;&#160;(0xF &lt;&lt; 6)</td></tr>
<tr class="separator:aad53b8687ff9b35c617792c08e954abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1172ecaf240aeba280c77a0fb8024d70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#a1172ecaf240aeba280c77a0fb8024d70">SHIFT_TO_OUTPUT</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a1172ecaf240aeba280c77a0fb8024d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0bb21b4b4919db2174d50bab0e5528"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#afa0bb21b4b4919db2174d50bab0e5528">SHIFT_TO_INPUT</a>&#160;&#160;&#160;23</td></tr>
<tr class="separator:afa0bb21b4b4919db2174d50bab0e5528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590a77b977c7ccb0a38ba63242f9a4be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#a590a77b977c7ccb0a38ba63242f9a4be">LAYOUT_SIZE</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a590a77b977c7ccb0a38ba63242f9a4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5d7405d27f18738e384bec434a23aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#a9c5d7405d27f18738e384bec434a23aa">VAL_TO_XOR</a>&#160;&#160;&#160;0x07</td></tr>
<tr class="separator:a9c5d7405d27f18738e384bec434a23aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af8da7f07629d00e7f39d86df2ee1470c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#af8da7f07629d00e7f39d86df2ee1470c">EINT3_IRQHandler</a> ()</td></tr>
<tr class="separator:af8da7f07629d00e7f39d86df2ee1470c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83c503c0d28a4d3defb66550b09f6a18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga83c503c0d28a4d3defb66550b09f6a18">KEYPADOS_Init</a> (int layout[12], QueueHandle_t <a class="el" href="i2c_8c.html#ab543d7bd8812a2f30f8f11e66563dd25">queue</a>, SemaphoreHandle_t smphr)</td></tr>
<tr class="memdesc:ga83c503c0d28a4d3defb66550b09f6a18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the system to allow access to the peripheral. As such, receives in the parameters the vector with the codes of the 12 keys (layout), and the OS objects that will be used to communicate between tasks.  <a href="group__KEYPADOS__Public__Functions.html#ga83c503c0d28a4d3defb66550b09f6a18">More...</a><br /></td></tr>
<tr class="separator:ga83c503c0d28a4d3defb66550b09f6a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd9117af4ec3a2c2acbcfcd43416809b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#gabd9117af4ec3a2c2acbcfcd43416809b">KEYPADOS_ProcessKey</a> ()</td></tr>
<tr class="memdesc:gabd9117af4ec3a2c2acbcfcd43416809b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for a key press, processes the key pressed and pushes it to the queue. to be used by the keypad task.  <a href="group__KEYPADOS__Public__Functions.html#gabd9117af4ec3a2c2acbcfcd43416809b">More...</a><br /></td></tr>
<tr class="separator:gabd9117af4ec3a2c2acbcfcd43416809b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45d08f042f0080636296841a506feb47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga45d08f042f0080636296841a506feb47">KEYPADOS_PoolKeypad</a> ()</td></tr>
<tr class="memdesc:ga45d08f042f0080636296841a506feb47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pools keypad to determine which key was pressed and returns that key code.  <a href="group__KEYPADOS__Public__Functions.html#ga45d08f042f0080636296841a506feb47">More...</a><br /></td></tr>
<tr class="separator:ga45d08f042f0080636296841a506feb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b29ba0a25fbb1e20c01f9ecde5816d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KEYPADOS__Public__Functions.html#ga1b29ba0a25fbb1e20c01f9ecde5816d5">KEYPADOS_GetKey</a> (TickType_t ticks)</td></tr>
<tr class="memdesc:ga1b29ba0a25fbb1e20c01f9ecde5816d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first key in the queue.  <a href="group__KEYPADOS__Public__Functions.html#ga1b29ba0a25fbb1e20c01f9ecde5816d5">More...</a><br /></td></tr>
<tr class="separator:ga1b29ba0a25fbb1e20c01f9ecde5816d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9d5859373aa9ccfa695b63382ab77e26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#a9d5859373aa9ccfa695b63382ab77e26">Layout</a> [<a class="el" href="keypados_8c.html#a590a77b977c7ccb0a38ba63242f9a4be">LAYOUT_SIZE</a>]</td></tr>
<tr class="separator:a9d5859373aa9ccfa695b63382ab77e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b522b49a9b4cabac50f813a32aabb57"><td class="memItemLeft" align="right" valign="top">SemaphoreHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#a8b522b49a9b4cabac50f813a32aabb57">Semaphore</a></td></tr>
<tr class="separator:a8b522b49a9b4cabac50f813a32aabb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc8d7e412f30eba72d74ee184a02065"><td class="memItemLeft" align="right" valign="top">QueueHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="keypados_8c.html#a4bc8d7e412f30eba72d74ee184a02065">Queue</a></td></tr>
<tr class="separator:a4bc8d7e412f30eba72d74ee184a02065"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad3ac4a6d8bb4ac00f51485eb82987780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3ac4a6d8bb4ac00f51485eb82987780">&#9670;&nbsp;</a></span>BITS_TO_PINMODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITS_TO_PINMODE&#160;&#160;&#160;(0x3f &lt;&lt; 14)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00013">13</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00047">KEYPADOS_Init()</a>.</p>

</div>
</div>
<a id="a3ca35baec219740c56a70b5d416db033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca35baec219740c56a70b5d416db033">&#9670;&nbsp;</a></span>INPUT_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INPUT_MASK&#160;&#160;&#160;(0x7 &lt;&lt; 23)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00015">15</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00027">EINT3_IRQHandler()</a>, <a class="el" href="keypados_8c_source.html#l00047">KEYPADOS_Init()</a>, and <a class="el" href="keypados_8c_source.html#l00070">KEYPADOS_PoolKeypad()</a>.</p>

</div>
</div>
<a id="a590a77b977c7ccb0a38ba63242f9a4be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590a77b977c7ccb0a38ba63242f9a4be">&#9670;&nbsp;</a></span>LAYOUT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LAYOUT_SIZE&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00020">20</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00047">KEYPADOS_Init()</a>.</p>

</div>
</div>
<a id="aad53b8687ff9b35c617792c08e954abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad53b8687ff9b35c617792c08e954abe">&#9670;&nbsp;</a></span>OUTPUT_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_MASK&#160;&#160;&#160;(0xF &lt;&lt; 6)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00016">16</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00047">KEYPADOS_Init()</a>, and <a class="el" href="keypados_8c_source.html#l00070">KEYPADOS_PoolKeypad()</a>.</p>

</div>
</div>
<a id="afa0bb21b4b4919db2174d50bab0e5528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa0bb21b4b4919db2174d50bab0e5528">&#9670;&nbsp;</a></span>SHIFT_TO_INPUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHIFT_TO_INPUT&#160;&#160;&#160;23</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00018">18</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00070">KEYPADOS_PoolKeypad()</a>.</p>

</div>
</div>
<a id="a1172ecaf240aeba280c77a0fb8024d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1172ecaf240aeba280c77a0fb8024d70">&#9670;&nbsp;</a></span>SHIFT_TO_OUTPUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHIFT_TO_OUTPUT&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00017">17</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00070">KEYPADOS_PoolKeypad()</a>.</p>

</div>
</div>
<a id="a9c5d7405d27f18738e384bec434a23aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5d7405d27f18738e384bec434a23aa">&#9670;&nbsp;</a></span>VAL_TO_XOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VAL_TO_XOR&#160;&#160;&#160;0x07</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00021">21</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00070">KEYPADOS_PoolKeypad()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af8da7f07629d00e7f39d86df2ee1470c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8da7f07629d00e7f39d86df2ee1470c">&#9670;&nbsp;</a></span>EINT3_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EINT3_IRQHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00027">27</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">References <a class="el" href="keypados_8c_source.html#l00015">INPUT_MASK</a>, and <a class="el" href="keypados_8c_source.html#l00024">Semaphore</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9d5859373aa9ccfa695b63382ab77e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5859373aa9ccfa695b63382ab77e26">&#9670;&nbsp;</a></span>Layout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Layout[<a class="el" href="keypados_8c.html#a590a77b977c7ccb0a38ba63242f9a4be">LAYOUT_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00023">23</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00047">KEYPADOS_Init()</a>, and <a class="el" href="keypados_8c_source.html#l00070">KEYPADOS_PoolKeypad()</a>.</p>

</div>
</div>
<a id="a4bc8d7e412f30eba72d74ee184a02065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bc8d7e412f30eba72d74ee184a02065">&#9670;&nbsp;</a></span>Queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QueueHandle_t <a class="el" href="structQueue.html">Queue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00025">25</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

</div>
</div>
<a id="a8b522b49a9b4cabac50f813a32aabb57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b522b49a9b4cabac50f813a32aabb57">&#9670;&nbsp;</a></span>Semaphore</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SemaphoreHandle_t Semaphore</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="keypados_8c_source.html#l00024">24</a> of file <a class="el" href="keypados_8c_source.html">keypados.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="keypados_8c_source.html#l00027">EINT3_IRQHandler()</a>, <a class="el" href="keypados_8c_source.html#l00047">KEYPADOS_Init()</a>, and <a class="el" href="keypados_8c_source.html#l00061">KEYPADOS_ProcessKey()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 22 2019 21:03:34 for Embedded Systems Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
